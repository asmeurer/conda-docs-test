

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using conda with Travis CI &mdash; Conda   documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Conda   documentation" href="index.html"/>
        <link rel="up" title="FAQ" href="faq.html"/>
        <link rel="next" title="conda vs. pip vs. virtualenv" href="help/conda-pip-virtualenv-translator.html"/>
        <link rel="prev" title="Silent installation" href="help/silent.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Conda
          

          
          </a>

          
            
            
              <div class="version">
                 
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="using/index.html">Using conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="building/build.html">Building packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="help/help.html">Help &amp; reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="using/cheatsheet.html">Conda cheat sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html">Command reference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="faq.html">FAQ</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="faq.html#general-questions">General questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#getting-help">Getting help</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#searching-info">Searching &amp; info</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#managing-packages">Managing Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#managing-environments">Managing Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#customization-condarc-file">Customization (.condarc file)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="faq.html#conda-build-and-recipes">Conda build and recipes</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="redirects.html">Redirects</a></li>
<li class="toctree-l4"><a class="reference internal" href="help/silent.html">Silent installation</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Using conda with Travis CI</a></li>
<li class="toctree-l4"><a class="reference internal" href="help/conda-pip-virtualenv-translator.html">conda vs. pip vs. virtualenv</a></li>
<li class="toctree-l4"><a class="reference internal" href="winxp-proxy.html">Windows XP with proxy configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#pinning-packages">Pinning packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#conda-pip-and-virtualenv">Conda, pip, and virtualenv</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#silent-installation">Silent installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#using-conda-with-travis-ci">Using conda with Travis CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#windows-xp-with-proxy-configuration">Windows XP with proxy configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="help/support.html">Support options</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html">Conda changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html">Conda license</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="get-involved.html">Get involved</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Conda</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="help/help.html">Help &amp; reference</a> &raquo;</li>
      
          <li><a href="faq.html">FAQ</a> &raquo;</li>
      
    <li>Using conda with Travis CI</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/conda/conda-docs/blob/master/docs/source/travis.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-conda-with-travis-ci">
<h1>Using conda with Travis CI<a class="headerlink" href="#using-conda-with-travis-ci" title="Permalink to this headline">¶</a></h1>
<p>If you are already using Travis CI, using conda is a preferable alternative
to using apt-get and pip to install packages. The Debian repos provided
by Travis may not include versions of Python packages for all versions
of Python, or may not be updated as quickly. Pip installing such packages
may also be undesirable, as this can take a while, eating up a large chunk
of the 50 minutes that Travis allows for each build. Using conda also lets
you test the building of conda recipes on Travis.</p>
<p>Conda is language-agnostic, so it can be used for anything, not just Python, but
the following guide shows how to use it to test a Python package on Travis CI.</p>
<div class="section" id="the-travis-yml-file">
<h2>The .travis.yml file<a class="headerlink" href="#the-travis-yml-file" title="Permalink to this headline">¶</a></h2>
<p>The
following shows how to modify the <code class="docutils literal"><span class="pre">.travis.yml</span></code> file to use <a class="reference external" href="http://conda.pydata.org/miniconda.html">Miniconda</a> for a project that supports Python
2.6, 2.7, 3.3, and 3.4.</p>
<p>NOTE: Please see the Travis CI website for information about the <a class="reference external" href="http://docs.travis-ci.com/user/languages/python/#Examples">basic configuration for
Travis</a>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">language</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
<span class="l l-Scalar l-Scalar-Plain">python</span><span class="p p-Indicator">:</span>
  <span class="c1"># We don&#39;t actually use the Travis Python, but this keeps it organized.</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;2.6&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;2.7&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;3.3&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;3.4&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">sudo apt-get update</span>
  <span class="c1"># We do this conditionally because it saves us some downloading if the</span>
  <span class="c1"># version is the same.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">if [[ &quot;$TRAVIS_PYTHON_VERSION&quot; == &quot;2.7&quot; ]]; then</span>
      <span class="l l-Scalar l-Scalar-Plain">wget https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh -O miniconda.sh;</span>
    <span class="l l-Scalar l-Scalar-Plain">else</span>
      <span class="l l-Scalar l-Scalar-Plain">wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh;</span>
    <span class="l l-Scalar l-Scalar-Plain">fi</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bash miniconda.sh -b -p $HOME/miniconda</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">export PATH=&quot;$HOME/miniconda/bin:$PATH&quot;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">hash -r</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda config --set always_yes yes --set changeps1 no</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda update -q conda</span>
  <span class="c1"># Useful for debugging any issues with conda</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda info -a</span>

  <span class="c1"># Replace dep1 dep2 ... with your dependencies</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda create -q -n test-environment python=$TRAVIS_PYTHON_VERSION dep1 dep2 ...</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">source activate test-environment</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python setup.py install</span>

<span class="l l-Scalar l-Scalar-Plain">script</span><span class="p p-Indicator">:</span>
  <span class="c1"># Your test script goes here</span>
</pre></div>
</div>
</div>
<div class="section" id="additional-steps">
<h2>Additional Steps<a class="headerlink" href="#additional-steps" title="Permalink to this headline">¶</a></h2>
<p>If you wish to support a package that doesn&#8217;t have official Continuum builds,
you can build it yourself, and add it to a Anaconda.org channel. You can
then add</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda config --add channels your_Anaconda_dot_org_username</span>
</pre></div>
</div>
<p>to the install steps in <code class="docutils literal"><span class="pre">.travis.yml</span></code> so that it finds the packages on that
channel.</p>
</div>
<div class="section" id="building-a-conda-recipe">
<h2>Building a Conda Recipe<a class="headerlink" href="#building-a-conda-recipe" title="Permalink to this headline">¶</a></h2>
<p>If you support official conda packages for your project, you may want to use
<code class="docutils literal"><span class="pre">conda</span> <span class="pre">build</span></code> in Travis, so the building of your recipe is tested as
well.  We recommend that you include the conda recipe in the same directory
as your source code. Then replace the following:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python setup.py install</span>
</pre></div>
</div>
<p>with</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda build your-conda-recipe</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conda install your-package --use-local</span>
</pre></div>
</div>
<p>For more information on building conda packages, see the <a class="reference external" href="http://conda.pydata.org/docs/build.html">conda build</a> section
and the example recipes in the <a class="reference external" href="https://github.com/conda/conda-recipes">conda-recipes repo</a>.</p>
</div>
<div class="section" id="appveyor">
<h2>AppVeyor<a class="headerlink" href="#appveyor" title="Permalink to this headline">¶</a></h2>
<p>An alternative to using Travis CI with conda is <a class="reference external" href="http://www.appveyor.com/">AppVeyor</a>, a continuous build
service for Windows built on Azure.</p>
<p>You can see an example project for building conda packages on AppVeyor located at
<a class="reference external" href="https://github.com/rmcgibbo/python-appveyor-conda-example">https://github.com/rmcgibbo/python-appveyor-conda-example</a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="help/conda-pip-virtualenv-translator.html" class="btn btn-neutral float-right" title="conda vs. pip vs. virtualenv" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="help/silent.html" class="btn btn-neutral" title="Silent installation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Continuum Analytics.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:' ',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-11', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>